{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": { "url": "https://raw.githubusercontent.com/echo0039/DV2/main/line%20chart.csv" },
    "title": "Line Chart Showing The Trend of Suicide Rates in Asia (2012-2014)",
    "width": 600,
    "height": 650,
    "transform": [{ "filter": "datum.country!=='Country'" }],
    "encoding": {
        "x": {"field": "Year", "type": "nominal"},
        "y": {"field": "Crude suicide rates (per 100k population)", "type": "quantitative", "scale": {"domain": [0,32]}},
        "color": {
            "condition": {"param": "Asian", "field": "Country", "type": "nominal"},
            "value": "none"
        }
    },
    "layer": [
        {
            "params": [
                {
                    "name": "Asian",
                    "select": {"type": "point", "fields": ["Country"]},
                    "bind": {"input": "select", "options": [null, "Afghanistan", "Armenia", "Azerbaijan", "Bangladesh", "Bhutan", "Brunei", "Cambodia", "China", "Cyprus", "Dem. Rep. Korea", "Georgia", "India", "Indonesia", "Iran", "Iraq", "Israel", "Japan", "Jordan", "Kazakhstan", "Kuwait", "Kyrgyzstan", "Lao PDR", "Lebanon", "Malaysia", "Mongolia", "Myanmar", "Nepal", "Oman", "Pakistan", "Philippines", "Qatar", "Korea", "Saudi Arabia", "Sri Lanka", "Syria", "Tajikistan", "Thailand", "Timor-Leste", "Turkey", "Turkmenistan", "United Arab Emirates", "Uzbekistan", "Vietnam", "Yemen"]}
                }
            ],
            "mark": { "type": "line", "strokeWidth": 8, "stroke": "transparent", "point": true}
        },
        {
            "mark": "line",
            "encoding": {
                "tooltip": [
                    { "field": "Year", "type": "nominal", "title": "Year" },
                    { "field": "Country", "type": "nominal", "title": "Country" },
                    { "field": "Crude suicide rates (per 100k population)", "type": "quantitative", "title": "Crude suicide rates (per 100k population)", "format": "," }
                ]
            }
        },
        {
            "encoding": {
                "x": { "aggregate": "max", "field": "Year", "title": "Year"},
                "y": { "aggregate": { "argmax": "Year" }, "field": "Crude suicide rates (per 100k population)", "title": "Crude suicide rates (per 100k)"},
                "text": { "field": "Country", "type": "nominal" }
            },
            "mark": { "type": "text", "align": "left", "dx": 4 }
        } 
    ],
    "config": { "view": { "stroke": null } }
}